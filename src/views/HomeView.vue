/**
 * æ–‡ä»¶å: HomeView.vue
 * æè¿°: ç½‘ç«™é¦–é¡µè§†å›¾
 * åœ¨é¡¹ç›®ä¸­çš„ä½œç”¨: 
 * - ä½œä¸ºç”¨æˆ·è®¿é—®ç½‘ç«™çš„ç¬¬ä¸€ä¸ªé¡µé¢
 * - å±•ç¤ºäº§å“çš„ä¸»è¦ç‰¹ç‚¹å’Œæ ¸å¿ƒåŠŸèƒ½
 * - æä¾›å¯¼èˆªåˆ°å…¶ä»–é¡µé¢çš„å…¥å£
 * - é€šè¿‡è§†è§‰å…ƒç´ å’Œäº¤äº’ä½“éªŒå¸å¼•ç”¨æˆ·
 */

<script setup lang="ts">
import { ref } from 'vue';
import { useRouter } from 'vue-router';
import HeroBanner from '../components/home/HeroBanner.vue';
import MissionStatement from '../components/home/MissionStatement.vue';
import VideoProductShowcase from '../components/home/VideoProductShowcase.vue';
import ProductHighlights from '../components/home/ProductHighlights.vue';
import SolutionsCarousel from '../components/home/SolutionsCarousel.vue';
import ActionCards from '../components/home/ActionCards.vue';
import SuccessStories from '../components/home/SuccessStories.vue';
import CtaSection from '../components/home/CtaSection.vue';
import TransitionBanner from '../components/home/TransitionBanner.vue';

const router = useRouter();
const videoShowcaseRef = ref<HTMLElement | null>(null);
const secondShowcaseRef = ref<HTMLElement | null>(null);
const productHighlightsRef = ref<HTMLElement | null>(null);

// ç¬¬ä¸€ä¸ªäº§å“æ•°æ®
const productOne = {
  title: 'ä½ç©ºæ™ºè”',
  subtitle: "èåˆå¤šæ¨¡æ€ä¸æ·±åº¦å­¦ä¹ ï¼Œå®ç°æ™ºèƒ½ç›‘æµ‹ä¸ååŒä½œä¸šï¼ŒåŠ©ä½ç©ºç»æµå‘å±•ã€‚",
  description: 'èšç„¦ä½ç©ºç»æµæ™ºèƒ½æ„ŸçŸ¥ä¸ååŒä½œä¸šï¼Œèåˆå¤šæ¨¡æ€æ•°æ®ä¸æ·±åº¦å­¦ä¹ ï¼Œå®ç°å¤æ‚ç¯å¢ƒç›‘æµ‹ä¸æ™ºèƒ½ä½“é«˜æ•ˆååŒï¼Œæ„å»ºä½ç©ºç»æµäº§ä¸šç”Ÿæ€ï¼Œæ¨åŠ¨ä½ç©ºç»æµæ´»åŠ¨çš„æ™ºèƒ½åŒ–ã€èåˆåŒ–å‘å±•ï¼Œç¬¦åˆå›½å®¶æ”¿ç­–å¯¹ä½ç©ºç»æµé«˜è´¨é‡å‘å±•çš„è¦æ±‚ã€‚',
  videoSrc: '/src/assets/videos/file.mp4'
};

// ç¬¬äºŒä¸ªäº§å“æ•°æ®
const productTwo = {
  title: 'æ™ºèˆªæ…§è„‘',
  subtitle: 'èåˆLLMä¸æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œå®ç°æ™ºèƒ½é—®ç­”ã€ç²¾å‡†è¯†åˆ«ä¸é¢„è­¦ï¼Œæå‡æ™ºèˆªæ°´å¹³ã€‚',
  description: 'æ‰“é€ ä½ç©ºç»æµæ™ºèƒ½å†³ç­–ä¸åˆ›æ–°åº”ç”¨å¹³å°ï¼ŒèåˆLLMå’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œå®ç°æ™ºèƒ½é—®ç­”ã€ç²¾å‡†è¯†åˆ«ä¸ç¾å®³é¢„è­¦ï¼Œæå‡ä½ç©ºç»æµæ´»åŠ¨çš„æ™ºèƒ½åŒ–æ°´å¹³ï¼Œä¿éšœå®‰å…¨é«˜æ•ˆè¿è¥ï¼ŒåŠ©åŠ›ä½ç©ºç»æµæ–°è´¨ç”Ÿäº§åŠ›åŸ¹è‚²ä¸åº”ç”¨æ‹“å±•ã€‚',
  videoSrc: '/src/assets/videos/file.mp4'
};

// Smooth scroll to the video showcase section
const scrollToVideoShowcase = () => {
  if (videoShowcaseRef.value) {
    videoShowcaseRef.value.scrollIntoView({ behavior: 'smooth' });
  }
};

// Smooth scroll to the second showcase section
const scrollToSecondShowcase = () => {
  if (secondShowcaseRef.value) {
    secondShowcaseRef.value.scrollIntoView({ behavior: 'smooth' });
  }
};

// Smooth scroll to the product highlights section
const scrollToProductHighlights = () => {
  if (productHighlightsRef.value) {
    productHighlightsRef.value.scrollIntoView({ behavior: 'smooth' });
  }
};

// å‰å¾€æ— äººæœºä»»åŠ¡é¡µé¢
const goToDroneTask = () => {
  router.push('/drone-task');
};
</script>

<template>
  <main class="home-view">
    <!-- é¦–å±åŒºåŸŸ -->
    <HeroBanner @scroll-to-showcase="scrollToVideoShowcase" />
    
    <!-- æ¼”ç¤ºåŠŸèƒ½å…¥å£ -->
    <!-- <div class="demo-section">
      <div class="container mx-auto px-4 py-8">
        <h2 class="text-2xl font-bold text-center mb-8">äº§å“åŠŸèƒ½æ¼”ç¤º</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="demo-card" @click="router.push('/data-dashboard-detail')">
            <div class="demo-icon">ğŸ“Š</div>
            <h3>æ•°æ®ä»ªè¡¨ç›˜</h3>
            <p>æŸ¥çœ‹æ— äººæœºæ•°æ®åˆ†æå’Œå¯è§†åŒ–ç•Œé¢</p>
          </div>
          
          <div class="demo-card" @click="goToDroneTask">
            <div class="demo-icon">ğŸ›¸</div>
            <h3>æ— äººæœºå·¡é€»ä»»åŠ¡</h3>
            <p>æŸ¥çœ‹æ­£åœ¨æ‰§è¡Œçš„æ— äººæœºå·¡é€»ä»»åŠ¡</p>
          </div>
          
          <div class="demo-card" @click="router.push('/geo-api')">
            <div class="demo-icon">ğŸ—ºï¸</div>
            <h3>åœ°ç†æœåŠ¡API</h3>
            <p>ä½“éªŒä½ç½®æœç´¢ã€è·¯å¾„è§„åˆ’ç­‰åœ°ç†æœåŠ¡</p>
          </div>
        </div>
      </div>
    </div> -->
    
    <!-- è¿‡æ¸¡åŒºåŸŸ - é¡¹ç›®ä»·å€¼ä¸»é¢˜å±•ç¤º -->
    <div class="transition-section value-proposition">
      <div class="transition-content">
        <!-- æ ¸å¿ƒä»·å€¼ä¸»å¼  -->
        <div class="core-value">
          <h2>èµ‹èƒ½ä½ç©ºç»æµï¼Œå¼•é¢†æ™ºèƒ½å˜é©</h2>
          <div class="divider"></div>
        </div>
        
        <!-- ç‰¹è‰²äº®ç‚¹åˆ—ä¸¾ -->
        <div class="features-highlight">
          <div class="feature-item">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="3.5" stroke="currentColor" stroke-width="1.5"/>
                <path d="M20.188 10.9343C20.5762 11.4056 20.7703 11.6412 20.7703 12C20.7703 12.3588 20.5762 12.5944 20.188 13.0657C18.7679 14.7899 15.6357 18 12 18C8.36427 18 5.23206 14.7899 3.81197 13.0657C3.42381 12.5944 3.22973 12.3588 3.22973 12C3.22973 11.6412 3.42381 11.4056 3.81197 10.9343C5.23206 9.21014 8.36427 6 12 6C15.6357 6 18.7679 9.21014 20.188 10.9343Z" stroke="currentColor" stroke-width="1.5"/>
              </svg>
            </div>
            <h3>æ™ºèƒ½ç›‘æµ‹</h3>
            <p>èåˆæ·±åº¦å­¦ä¹ ç®—æ³•<br>ç²¾å‡†è¯†åˆ«ç›®æ ‡<br>å®æ—¶å¤„ç†ä½ç©ºæ•°æ®</p>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 3.93552C18.8915 5.95319 21 9.17319 21 12.7958C21 16.4184 18.8915 19.6384 16 21.6561M16 3.93552C14.5209 2.96773 12.8158 2.41797 11 2.41797C9.18419 2.41797 7.4791 2.96773 6 3.93552M16 3.93552L13.5 8.71656M8 21.6561C5.10851 19.6384 3 16.4184 3 12.7958C3 9.17319 5.10851 5.95319 8 3.93552M8 3.93552L10.5 8.71656M8 3.93552C9.16414 3.16902 10.5439 2.64747 12 2.46582M13.5 16.875C11.8431 15.3961 10.1569 15.3961 8.5 16.875" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3>ç¾å®³é¢„æµ‹</h3>
            <p>è¿ç”¨æ™ºèƒ½æ¨¡å‹<br>åˆ†æä½ç©ºæ€åŠ¿<br>é¢„è­¦æ½œåœ¨é£é™©</p>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 16V14M12 14V12M12 14H18C19.1046 14 20 13.1046 20 12C20 10.8954 19.1046 10 18 10H12M12 8V6M6 10C4.89543 10 4 10.8954 4 12C4 13.1046 4.89543 14 6 14H8M21 3L3 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3>å†³ç­–æ”¯æŒ</h3>
            <p>ç»“åˆLLMä¸æ•°æ®åˆ†æ<br>ç”Ÿæˆå»ºè®®<br>åŠ©åŠ›æ™ºèƒ½å†³ç­–</p>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 12C4 8.22876 4 6.34315 5.17157 5.17157C6.34315 4 8.22876 4 12 4C15.7712 4 17.6569 4 18.8284 5.17157C20 6.34315 20 8.22876 20 12C20 15.7712 20 17.6569 18.8284 18.8284C17.6569 20 15.7712 20 12 20C8.22876 20 6.34315 20 5.17157 18.8284C4 17.6569 4 15.7712 4 12Z" stroke="currentColor" stroke-width="1.5"/>
                <path d="M9 10L15 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M9 14H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </div>
            <h3>æ™ºæ…§è¿è¥</h3>
            <p>æ™ºèƒ½ç³»ç»Ÿè‡ªåŠ¨åŒ–ç®¡ç†<br>æå‡èµ„æºåˆ©ç”¨æ•ˆç‡<br>ä¿éšœä»»åŠ¡é«˜æ•ˆæ‰§è¡Œ</p>
          </div>
        </div>
        
        <!-- é¡¹ç›®åŠŸèƒ½åˆ‡æ¢å¼•å¯¼ -->
        <div class="next-section-guide">
          <h3>æ›´å¤šç²¾å½©ï¼Œå³å°†å‘ˆç°</h3>
          
          <!-- å…³é”®è¯äº‘ -->
          <div class="keyword-cloud">
            <span class="keyword size-lg">æ™ºèƒ½ç›‘æµ‹</span>
            <span class="keyword size-md">ç›®æ ‡è¯†åˆ«</span>
            <span class="keyword size-xl">ç¾å®³é¢„è­¦</span>
            <span class="keyword size-sm">ä½ç©ºæ„ŸçŸ¥</span>
            <span class="keyword size-lg">è‡ªåŠ¨åˆ†æ</span>
            <span class="keyword size-md">ç²¾å‡†å†³ç­–</span>
            <span class="keyword size-sm">æ•°æ®å¤„ç†</span>
            <span class="keyword size-xl">æ™ºèƒ½ç®¡ç†</span>
            <span class="keyword size-md">æµç¨‹ä¼˜åŒ–</span>
            <span class="keyword size-lg">é«˜æ•ˆè¿è¥</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- ä½¿å‘½å®£è¨€ -->
    <MissionStatement />
    
    <!-- ç¬¬ä¸€ä¸ªè§†é¢‘å±•ç¤ºåŒºåŸŸ -->
    <div ref="videoShowcaseRef" class="video-showcase-container">
      <VideoProductShowcase :product="productOne" />
    </div>
    
    <!-- ç¬¬äºŒä¸ªè§†é¢‘å±•ç¤ºåŒºåŸŸ -->
    <div ref="secondShowcaseRef" class="video-showcase-container">
      <VideoProductShowcase :product="productTwo" />
    </div>
    
    <!-- åŠŸèƒ½å¡ç‰‡ -->
    <ActionCards />
    
    <!-- è§£å†³æ–¹æ¡ˆè½®æ’­ -->
    <SolutionsCarousel @scrollToNext="scrollToProductHighlights" />
    
    <!-- äº§å“äº®ç‚¹ -->
    <div ref="productHighlightsRef">
      <ProductHighlights />
    </div>
    
    <!-- ç”¨æˆ·æ•…äº‹ -->
    <SuccessStories title="ç”¨æˆ·ä½¿ç”¨ä½“éªŒ" description="çœ‹çœ‹ä¸“ä¸šäººå£«å¦‚ä½•è¯„ä»·Skydioæ— äººæœºè§£å†³æ–¹æ¡ˆ" />
    
    <!-- è¡ŒåŠ¨å·å¬ -->
    <CtaSection />
  </main>
</template>

<style scoped>
.home-view {
  padding-top: 60px;
  position: relative;
  overflow-x: hidden;
  background-color: #ffffff;
}

/* æ¼”ç¤ºåŠŸèƒ½åŒºåŸŸ */
.demo-section {
  background-color: #f8fafc;
  padding: 40px 0;
}

.demo-card {
  background-color: white;
  border-radius: 12px;
  padding: 30px 20px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  cursor: pointer;
  transition: all 0.3s ease;
}

.demo-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.demo-icon {
  font-size: 2.5rem;
  margin-bottom: 15px;
}

.demo-card h3 {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 8px;
  color: #1e293b;
}

.demo-card p {
  font-size: 0.9rem;
  color: #64748b;
}

.transition-section {
  position: relative;
  width: 100%;
  background-color: #ffffff;
  margin: 0;
}

.value-proposition {
  background-color: #ffffff;
  padding: 100px 0;
  color: #000000;
  border-top: 1px solid #f0f0f0;
  border-bottom: 1px solid #f0f0f0;
}

.transition-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 30px;
}

/* æ ¸å¿ƒä»·å€¼ä¸»å¼ æ ·å¼ */
.core-value {
  text-align: center;
  margin-bottom: 80px;
}

.core-value h2 {
  font-size: 3.2rem;
  font-weight: 700;
  color: #000000;
  margin-bottom: 20px;
  letter-spacing: -0.5px;
  line-height: 1.2;
}

.divider {
  width: 60px;
  height: 4px;
  background-color: #3498db;
  margin: 0 auto;
}

/* ç‰¹è‰²äº®ç‚¹æ ·å¼ */
.features-highlight {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 40px;
  margin-bottom: 90px;
}

.feature-item {
  text-align: center;
  padding: 30px 20px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border-radius: 8px;
}

.feature-item:hover {
  transform: translateY(-8px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
}

.feature-icon {
  margin: 0 auto 20px;
  width: 65px;
  height: 65px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #3498db;
  background-color: rgba(52, 152, 219, 0.08);
  border-radius: 50%;
  padding: 15px;
}

.feature-icon svg {
  width: 32px;
  height: 32px;
}

.feature-item h3 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #000000;
  margin-bottom: 15px;
}

.feature-item p {
  font-size: 1rem;
  color: #666666;
  line-height: 1.7;
}

/* é¡¹ç›®åŠŸèƒ½åˆ‡æ¢å¼•å¯¼æ ·å¼ */
.next-section-guide {
  text-align: center;
  margin-top: 60px;
}

.next-section-guide h3 {
  font-size: 2rem;
  font-weight: 600;
  color: #000000;
  margin-bottom: 35px;
  opacity: 0.9;
}

.keyword-cloud {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 25px;
  max-width: 900px;
  margin: 0 auto;
}

.keyword {
  display: inline-block;
  padding: 10px 20px;
  border-radius: 50px;
  background-color: #f7f9fc;
  font-weight: 500;
  transition: all 0.3s ease;
}

.keyword:hover {
  background-color: #e1e8f0;
  transform: translateY(-5px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}

.size-sm {
  font-size: 0.9rem;
}

.size-md {
  font-size: 1.2rem;
}

.size-lg {
  font-size: 1.4rem;
}

.size-xl {
  font-size: 1.6rem;
}

/* ç§»é™¤å¯èƒ½é€ æˆè’™å›¾æ•ˆæœçš„ä¼ªå…ƒç´  */
.transition-section::before,
.transition-section::after {
  display: none;
}

.video-showcase-container {
  position: relative;
  min-height: auto;
  overflow: visible;
  z-index: 1;
  background-color: #ffffff;
  margin: 0;
}

/* ç¡®ä¿è§†é¢‘åŒºåŸŸä¸è¿‡æ¸¡åŒºåŸŸæ— ç¼è¡”æ¥ */
.video-showcase-container + .video-showcase-container {
  margin-top: 0;
}

/* ç§»é™¤æ³¢æµªæ•ˆæœçš„ä¼ªå…ƒç´  */
.wave-divider {
  display: none;
}

@media (max-width: 1200px) {
  .core-value h2 {
    font-size: 2.8rem;
  }
}

@media (max-width: 992px) {
  .features-highlight {
    grid-template-columns: repeat(2, 1fr);
    gap: 30px;
  }
  
  .value-proposition {
    padding: 80px 0;
  }
  
  .core-value {
    margin-bottom: 60px;
  }
  
  .core-value h2 {
    font-size: 2.5rem;
  }
}

@media (max-width: 768px) {
  .value-proposition {
    padding: 60px 0;
  }
  
  .transition-content {
    padding: 0 20px;
  }
  
  .core-value {
    margin-bottom: 50px;
  }
  
  .core-value h2 {
    font-size: 2.2rem;
  }
  
  .features-highlight {
    grid-template-columns: 1fr;
    gap: 25px;
    margin-bottom: 50px;
  }
  
  .feature-item {
    padding: 20px 15px;
  }
  
  .next-section-guide h3 {
    font-size: 1.6rem;
    margin-bottom: 25px;
  }
  
  .keyword-cloud {
    gap: 15px;
  }
  
  .size-xl {
    font-size: 1.4rem;
  }
  
  .size-lg {
    font-size: 1.2rem;
  }
  
  .home-view {
    padding-top: 40px;
  }
}
</style>
